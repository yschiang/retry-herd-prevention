ğŸ”§ Basic Component Usage Examples

1. Token Bucket Rate Limiter:
   Sending 5 requests with 3 RPS limit...
   Request 1 sent at +0ms
   Request 2 sent at +0ms
   Request 3 sent at +0ms
   Request 4 sent at +342ms
   Request 5 sent at +676ms
   Notice the controlled spacing!

2. Circuit Breaker:
   Request 1: Failed (simulated)
   Request 2: Failed (simulated)
   Request 3: Failed (simulated)
   Circuit Breaker: Closed â†’ Open
   Request 4: Blocked by circuit breaker
   Request 5: Blocked by circuit breaker

3. Sliding Window Metrics:
   Metrics: {
  "requestCount": 5,
  "errorRate": 0.4,
  "successRate": 0.6,
  "p95Latency": 500,
  "p99Latency": 500,
  "avgLatency": 210,
  "medianLatency": 120,
  "throughput": 5000,
  "totalCount": 5,
  "totalSuccess": 3
}

ğŸ”§ Chat Client Integration Example

1. Single message sending:
   âŒ Failed: fetch failed

2. Batch sending (protected):
ğŸ”´ Chat Client Circuit Breaker: Closed â†’ Open
[MONITORING] circuit_breaker_state_change: { from: 'Closed', to: 'Open' }
   ğŸ“Š Batch complete: 0/20 sent
   â±ï¸  Time taken: 0ms (rate limited to 5 RPS)

3. Health monitoring:
   ğŸ“ˆ Performance: {
  "requestCount": 3,
  "errorRate": "100.0%",
  "avgLatency": "14ms",
  "p95Latency": "39ms",
  "throughput": "750.00 req/s"
}
   ğŸ”´ Circuit Breaker: Open

ğŸ¯ Key Benefits Achieved:
   âœ… No more retry storms during restarts
   âœ… Automatic backpressure when server struggles
   âœ… Circuit breaker prevents cascading failures
   âœ… Real-time monitoring and health checks
   âœ… Gradual, controlled message sending
